// Fine i'll do it myself..
// Couldn't get any npm packages to work with sqlcipher..
import path from 'path';
import 'dotenv/config';
import { execSync } from "child_process";
// Get paths:
const rootPath = path.resolve('./');
const dbPath = rootPath + process.env.DB_PATH;
const dbPass = process.env.DB_PASS;
const queryTest = `SELECT * FROM User;`;
// const queryTest = `.schema`;
function dbQuery(query) {
    try {
        // Executes the query, converts it into a string and gets rid of the "ok" generated by the pragma key.
        return execSync(`sqlcipher ${dbPath} -cmd "PRAGMA key=${dbPass}" ".headers ON" "${query}"`).toString().split("\n").slice(1).join("\n");
    }
    catch (error) {
        return error.message;
    }
}
const result = dbQuery(queryTest);
console.log(result);
//# sourceMappingURL=dbconnect.js.map